# Name: Dependencies between test classes
SELECT DISTINCT ?n WHERE {
  ?n     :nodetype "ClassOrInterfaceDeclaration" ;
         :name ?name1 ;
         (:in/:next)* ?md .
  ?md    :nodetype "MethodDeclaration" ;
         :annotations/:name "Test" ;
         (:in/:next)* ?mc .
  ?mc    :nodetype "MethodCallExpr" ;
         :declaration ?d .
  ?d     (^:in|^:next)* ?o .
  ?name1 :nodetype "ClassOrInterfaceDeclaration" ;
         :name ?name2 .
  FILTER (CONTAINS(?on, "Test")) .
  FILTER (?name1 != ?name2) .
}